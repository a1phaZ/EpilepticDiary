{"version":3,"sources":["components/navbar/AppNavbar.component.js","components/rating/Rating.component.js","_functions/db.js","store/data/actionTypes.js","store/data/actions.js","components/timeline/Element.component.js","components/timeline/List.component.js","store/buttonsPanel/actionTypes.js","store/buttonsPanel/actions.js","components/buttonsPanel/ButtonsPanel.component.js","components/modalPage/Description.ModalPage.js","components/modalPage/Attack.ModalPage.js","components/modalPage/Drugs.ModalPage.js","components/modalPage/ModalPage.component.js","_functions/handlersData.js","store/settings/actionTypes.js","store/settings/actions.js","components/datePicker/DatePicker.component.js","_functions/stats.js","components/home/Home.component.js","components/settings/DrugForm.component.js","components/settings/DrugsList.js","components/settings/Settings.component.js","components/canvas/canvas.settings.js","components/canvas/Canvas.component.js","components/stats/Stats.component.js","App.js","reportWebVitals.js","_functions/handleModal.js","store/buttonsPanel/reducers.js","store/data/reducers.js","store/settings/reducers.js","store/reducers.js","index.js"],"names":["AppNavbar","Navbar","collapseOnSelect","expand","bg","variant","className","to","Toggle","aria-controls","Collapse","id","Nav","disabled","ratingArray","Rating","count","_renderedStars","map","item","init_db","a","this","props","db","initializeDB","setDB","openDB","upgrade","database","createObjectStore","keyPath","autoIncrement","createIndex","get","key","idxPath","idxVal","tx","transaction","items","index","store","iterate","cursor","push","value","getOne","storeName","itemsStore","objectStore","add","put","deleteItem","delete","SET_ITEM","SET_ITEMS","RESET_ITEM","SET_DATE","SET_DB","setItems","type","payload","setItem","resetItem","setDate","date","formatTime","time","Date","Intl","DateTimeFormat","hour","minute","format","getSleepDuration","timeStart","timeEnd","duration","durationStr","hourDuration","Math","trunc","minuteDuration","Element","drugs","subType","description","color","quality","strength","series","sleepId","setSleepId","_id","_enableDelete","getTime","_renderedDeleteButton","Button","size","data-id","onClick","e","currentTarget","dataset","aria-hidden","_renderedDrugs","drug","idx","title","dosage","endSleepButton","dispatch","data-type","data-sub-type","data-color","toLowerCase","List","data","element","DISABLE_BUTTON","ENABLE_BUTTON","SHOW_MODAL","HIDE_MODAL","disableButton","buttonType","enableButton","showModal","modalType","hideModal","ButtonsPanel","buttons","notToday","_renderedButtons","button","icon","style","display","Description","handleClose","handleSubmit","useState","setDescription","Modal","Body","Form","Group","controlId","Label","Control","as","rows","onChange","Text","Footer","Attack","setCount","setSeries","setStrength","rangeDescription","setRangeDescription","textClass","setTextClass","useEffect","inline","justifyContent","Check","label","checked","placeholder","width","min","max","step","Drugs","drugsList","setDrugs","handleChecked","_drugs","findIndex","toString","length","CustomLink","Badge","filter","activeOnlyWhenExact","match","useRouteMatch","path","exact","ModalPageComponent","modal","show","setShow","onHide","Header","closeButton","Title","sortData","sort","b","SET_DRUG","SET_DRUGS","setDrug","formatDate","DatePicker","currentDate","_date","_setDate","FormGroup","onKeyDown","preventDefault","filteredByType","filterType","reduceAttackByDate","reduce","acc","n","_count","_strength","_n","prepareAttackColumns","attacksArray","diff","differenceInDays","startOfMonth","i","addDays","forEach","toFixed","data4Stats","opts","colors","columns","names","types","_reduce","x","arr","accumulator","str","ITEMS","HomeComponent","initDB","call","getItems","subDays","subDaysItem","addItem","state","setDateFromDatepicker","handlerShowModal","setState","handleModalFilter","modals","_currentDate","day","month","year","today","bind","prevProps","prevState","snapshot","modalShow","attackCount","Container","Component","connect","settings","bindActionCreators","DrugForm","setTitle","setDosage","archive","DrugList","_renderedList","ListGroup","Item","Card","SETTINGS","Settings","setting","settingsStore","deleteDrug","DrugsList","canvasSettings","margin","padding","dpi","lineWidth","helperLineCount","window","screen","height","dpiWidth","dpiHeight","viewHeight","CanvasComponent","details","timeOut","canvas","createRef","handleTouch","handleTouchLeave","current","marginLeft","marginRight","updateCanvas","viewWidth","computeBoundaries","yMin","yMax","ctx","getContext","font","fillStyle","clearRect","yRatio","floor","xRatio","yLineData","col","yBlockData","xData","fillText","drawHelperYLines","drawHelperXText","toLineCoords","coords","line","toBlockCoords","block","drawHelperXLine","y","_","round","beginPath","text","getDate","closePath","yLineStep","textStep","save","strokeStyle","moveTo","setLineDash","lineTo","stroke","restore","w","h","rect","fill","clearTimeout","touches","clientX","attack","setTimeout","ref","onTouchStart","onTouchMove","onTouchCancel","onTouchEnd","onMouseEnter","onMouseMove","onMouseLeave","Col","StatsComponent","prepareData","IDBKeyRange","bound","startOfRange","endOfRange","attackItems","attacksGroupedByDate","attackColumns","endOfMonth","App","basename","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","handleShowModal","initialState","combineReducers","action","newItems","splice","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8c527456.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Nav, Navbar} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function AppNavbar() {\r\n\treturn (\r\n\t\t<Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n\t\t\t<Link className={'navbar-brand'} to=\"/\">Дневник</Link>\r\n\t\t\t<Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n\t\t\t<Navbar.Collapse id=\"responsive-navbar-nav\">\r\n\t\t\t\t<Nav>\r\n\t\t\t\t\t<Link className={'nav-link'} to=\"/settings\">Лекарства</Link>\r\n\t\t\t\t\t<Link className={'nav-link'} to=\"/stats\" disabled>Статистика</Link>\r\n\t\t\t\t</Nav>\r\n\t\t\t</Navbar.Collapse>\r\n\t\t</Navbar>\r\n\t)\r\n}","import React from 'react';\r\nimport './rating.styles.css';\r\n\r\nconst ratingArray = [1, 2, 3];\r\nconst Rating = ({count}) => {\r\n\tconst _renderedStars = ratingArray.map((item) => {\r\n\t\treturn (<span key={item} className={`fa fa-star ${item <= count && 'checked'}`}/>)\r\n\t})\r\n\treturn (\r\n\t\t<span className={'rating'} >\r\n\t\t\t{_renderedStars}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nexport default Rating;\r\n","import {openDB} from \"idb/with-async-ittr\";\r\n\r\nexport async function init_db() {\r\n\tif (!this.props.db) {\r\n\t\tconst db = await initializeDB();\r\n\t\tthis.props.setDB(db);\r\n\t\treturn db;\r\n\t}\r\n\treturn this.props.db;\r\n}\r\n\r\nexport async function initializeDB() {\r\n\treturn await openDB('epileptic_diary', 1, {\r\n\t\tupgrade(database) {\r\n\t\t\tconst store = database.createObjectStore('items', {keyPath: '_id', autoIncrement: true});\r\n\t\t\tstore.createIndex('date', 'date');\r\n\t\t\tconst settingsStore = database.createObjectStore('settings', {keyPath: '_id', autoIncrement: true});\r\n\t\t\tsettingsStore.createIndex('type', 'type');\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport async function get(db, key, idxPath, idxVal) {\r\n\tlet tx = db.transaction(key);\r\n\r\n\tlet items = [];\r\n\r\n\tconst index = tx.store.index(idxPath);\r\n\t\r\n\tfor await (const cursor of index.iterate(idxVal)) {\r\n\t\titems.push(cursor.value);\r\n\t}\r\n\r\n\treturn items;\r\n}\r\n\r\n\r\nexport async function getOne(db, storeName, key) {\r\n\tlet tx = db.transaction('items');\r\n\tlet itemsStore = tx.objectStore(storeName);\r\n\treturn itemsStore.get(key);\r\n}\r\n\r\nexport async function add(db, item, storeName) {\r\n\tlet tx = db.transaction(storeName, 'readwrite');\r\n\tlet itemsStore = tx.objectStore(storeName);\r\n\ttry {\r\n\t\treturn await itemsStore.add(item);\r\n\t} catch (e) {\r\n\t\tthrow e;\r\n\t}\r\n}\r\n\r\nexport async function put(db, item, storeName) {\r\n\tlet tx = db.transaction(storeName, 'readwrite');\r\n\tlet itemsStore = tx.objectStore(storeName);\r\n\t\r\n\ttry {\r\n\t\tawait itemsStore.put(item);\r\n\t} catch (e) {\r\n\t\tthrow e;\r\n\t}\r\n}\r\n\r\nexport async function deleteItem(db, storeName, key) {\r\n\tlet tx = db.transaction(storeName, 'readwrite');\r\n\tlet itemsStore = tx.objectStore(storeName);\r\n\ttry {\r\n\t\tawait itemsStore.delete(key);\r\n\t} catch (e) {\r\n\t\tthrow e;\r\n\t}\r\n}","export const SET_ITEM = 'SET_ITEM';\r\nexport const SET_ITEMS = 'SET_ITEMS';\r\nexport const RESET_ITEM = 'RESET_ITEM';\r\nexport const SET_DATE = 'SET_DATE';\r\nexport const SET_DB = 'SET_DB';","import {RESET_ITEM, SET_DATE, SET_ITEM, SET_ITEMS, SET_DB} from \"./actionTypes\";\r\n\r\nexport const setItems = (items) => {\r\n\treturn {\r\n\t\ttype: SET_ITEMS,\r\n\t\tpayload: {\r\n\t\t\titems\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const setItem = (item) => {\r\n\treturn {\r\n\t\ttype: SET_ITEM,\r\n\t\tpayload: {\r\n\t\t\titem\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const resetItem = (item) => {\r\n\treturn {\r\n\t\ttype: RESET_ITEM,\r\n\t\tpayload: {\r\n\t\t\titem\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const setDate = (date) => {\r\n\treturn {\r\n\t\ttype: SET_DATE,\r\n\t\tpayload: {\r\n\t\t\tdate\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const setDB = (db) => {\r\n\treturn {\r\n\t\ttype: SET_DB,\r\n\t\tpayload: {\r\n\t\t\tdb\r\n\t\t}\r\n\t}\r\n}","import React from 'react';\r\nimport Rating from \"../rating/Rating.component\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {getOne, put} from \"../../_functions/db\";\r\nimport {resetItem} from \"../../store/data/actions\";\r\nimport {store} from \"../../index\";\r\n\r\nconst deleteDelay = 1000*60*30; //delay 30 min.\r\n\r\nconst formatTime = (time) => {\r\n\tconst date = new Date(time);\r\n\treturn new Intl.DateTimeFormat('ru-RU', {hour: 'numeric', minute: 'numeric'}).format(date);\r\n}\r\n\r\nconst getSleepDuration = (timeStart, timeEnd) => {\r\n\tconst hour = 60 * 60 * 1000;\r\n\tconst minute = 60 * 1000;\r\n\tconst duration = timeEnd - timeStart;\r\n\tlet durationStr = '';\r\n\tconst hourDuration = Math.trunc(duration / hour);\r\n\tconst minuteDuration = Math.trunc((duration - hourDuration * hour) / minute);\r\n\t\r\n\tif (hourDuration > 0) {\r\n\t\tdurationStr += `${hourDuration} часов и `\r\n\t}\r\n\tdurationStr += `${minuteDuration} минут`\r\n\treturn durationStr\r\n}\r\n\r\nconst Element = ({db, type, drugs = [], subType, description, time, color, quality, strength, count, series, timeEnd, sleepId, setSleepId, index, _id, deleteItem}) => {\r\n\tconst _enableDelete = time + deleteDelay > new Date().getTime();\r\n\tconst _renderedDeleteButton = (\r\n\t\t<Button\r\n\t\t\tvariant={'link'}\r\n\t\t\tsize={'sm'}\r\n\t\t\tdata-id = {_id}\r\n\t\t\tonClick={(e) => {deleteItem(e.currentTarget.dataset.id)}}\r\n\t\t>\r\n\t\t\t<i className=\"fa fa-trash\" aria-hidden=\"true\"></i> Удалить\r\n\t\t</Button>\r\n\t)\r\n\tconst _renderedDrugs = drugs.map((drug, idx) => {\r\n\t\tconst {title, dosage} = drug;\r\n\t\treturn (\r\n\t\t\t<li key={idx}>{title} - {dosage}</li>\r\n\t\t)\r\n\t});\r\n\t\r\n\tconst endSleepButton = (\r\n\t\t<Button variant={'primary'}\r\n\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\tconst item = await getOne(db, 'items', sleepId);\r\n\t\t\t\t\t\t\titem.subType = 'конец';\r\n\t\t\t\t\t\t\titem.timeEnd = new Date().getTime();\r\n\t\t\t\t\t\t\tawait put(db, item, 'items');\r\n\t\t\t\t\t\t\tsetSleepId(-1);\r\n\t\t\t\t\t\t\tstore.dispatch(resetItem(item));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdata-type={'Сон'}\r\n\t\t\t\t\t\tdata-sub-type={'конец'}\r\n\t\t\t\t\t\tdata-color={'badge-primary'}\r\n\t\t>\r\n\t\t\t{'Пробуждение'}\r\n\t\t</Button>\r\n\t)\r\n\treturn (\r\n\t\t<div className=\"vertical-timeline-item vertical-timeline-element\">\r\n\t\t\t<div>\r\n\t\t\t\t<span className=\"vertical-timeline-element-icon bounce-in\">\r\n\t\t\t\t\t<i className={`badge badge-dot badge-dot-xl ${color}`}> </i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<div className=\"vertical-timeline-element-content bounce-in\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h4 className=\"timeline-title\">{type}{count && ` - ${count}`}</h4>\r\n\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{(type.toLowerCase() === 'сон' && subType.toLowerCase() !== 'конец') && endSleepButton}\r\n\t\t\t\t\t{(type.toLowerCase() === 'сон' && subType.toLowerCase() === 'конец' && timeEnd) &&\r\n\t\t\t\t\t<div><b>Пробуждение:</b> {formatTime(timeEnd)}</div>}\r\n\t\t\t\t\t{(type.toLowerCase() === 'сон' && subType.toLowerCase() === 'конец' && timeEnd) &&\r\n\t\t\t\t\t<div><b>Продолжительность:</b> {getSleepDuration(time, timeEnd)}</div>}\r\n\t\t\t\t\t{description && <p>{description}</p>}\r\n\t\t\t\t\t{quality && <span>Качество сна: <Rating count={quality}/></span>}\r\n\t\t\t\t\t{series && <div><b>Серия</b></div>}\r\n\t\t\t\t\t{strength && <span>Сила приступов: <Rating count={strength}/></span>}\r\n\t\t\t\t\t{drugs && _renderedDrugs}\r\n\t\t\t\t\t<span className=\"vertical-timeline-element-date\">{formatTime(time)}</span>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t(index === 0 && _enableDelete) && _renderedDeleteButton\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Element;\r\n","import React from 'react';\r\nimport Element from \"./Element.component\";\r\n\r\nconst List = ({db, data, sleepId, setSleepId, deleteItem}) => {\r\n\treturn data.map((element, idx) => {\r\n\t\treturn (\r\n\t\t\t<div key={idx} className=\"vertical-timeline vertical-timeline--animate vertical-timeline--one-column\">\r\n\t\t\t\t<Element db={db} {...element} sleepId={sleepId} setSleepId={setSleepId} index={idx} deleteItem={deleteItem}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t})\r\n}\r\n\r\nexport default List;\r\n","export const DISABLE_BUTTON = 'DISABLE_BUTTON';\r\nexport const ENABLE_BUTTON = 'ENABLE_BUTTON';\r\nexport const SHOW_MODAL = 'SHOW_MODAL';\r\nexport const HIDE_MODAL = 'HIDE_MODAL';","import {DISABLE_BUTTON, ENABLE_BUTTON, HIDE_MODAL, SHOW_MODAL} from \"./actionTypes\";\r\n\r\nexport const disableButton = (buttonType) => {\r\n\treturn {\r\n\t\ttype: DISABLE_BUTTON,\r\n\t\tpayload: {\r\n\t\t\ttype: buttonType\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const enableButton = (buttonType) => {\r\n\treturn {\r\n\t\ttype: ENABLE_BUTTON,\r\n\t\tpayload: {\r\n\t\t\ttype: buttonType\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const showModal = (modalType) => {\r\n\treturn {\r\n\t\ttype: SHOW_MODAL,\r\n\t\tpayload: {\r\n\t\t\tmodalType: modalType\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const hideModal = () => {\r\n\treturn {\r\n\t\ttype: HIDE_MODAL\r\n\t}\r\n}","import React from 'react';\r\nimport {Button} from \"react-bootstrap\";\r\nimport {add} from \"../../_functions/db\";\r\nimport {store} from \"../../index\";\r\nimport {disableButton, enableButton} from \"../../store/buttonsPanel/actions\";\r\nimport {setItem} from \"../../store/data/actions\";\r\nimport {format} from \"date-fns\";\r\nimport './ButtonsPanel.styles.css';\r\n\r\nconst ButtonsPanel = ({sleepId, db, buttons, setSleepId, notToday}) => {\r\n\tconst _renderedButtons = buttons.map((button, idx) => {\r\n\t\tconst {variant, onClick, icon, type, subType} = button;\r\n\t\treturn (\r\n\t\t\t<Button key={idx}\r\n\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\tclassName={`button-${variant}`}\r\n\t\t\t\t\t\t\tdisabled={(sleepId !== -1) && (type.toLowerCase() === 'сон')}\r\n\t\t\t\t\t\t\tonClick={onClick ? onClick : async (e) => {\r\n\t\t\t\t\t\t\t\tconst {type, subType, color} = e.currentTarget.dataset;\r\n\t\t\t\t\t\t\t\tconst {disabled} = e.currentTarget.disabled;\r\n\t\t\t\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\t\t\tsubType: subType,\r\n\t\t\t\t\t\t\t\t\ttime: new Date().getTime(),\r\n\t\t\t\t\t\t\t\t\tcolor: `badge-${color}`,\r\n\t\t\t\t\t\t\t\t\tdate: format(new Date(), 'yyyy-MM-dd')\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\tsetSleepId(await add(db, item, 'items'));\r\n\t\t\t\t\t\t\t\tif (!disabled) {\r\n\t\t\t\t\t\t\t\t\tstore.dispatch(disableButton(type));\r\n\t\t\t\t\t\t\t\t\tstore.dispatch(setItem(item));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tstore.dispatch(enableButton(type));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdata-type={type}\r\n\t\t\t\t\t\t\tdata-sub-type={subType}\r\n\t\t\t\t\t\t\tdata-color={variant}\r\n\t\t\t>\r\n\t\t\t\t<i className={`fa ${icon}`} aria-hidden=\"true\"/>\r\n\t\t\t</Button>\r\n\t\t)\r\n\t})\r\n\treturn (\r\n\t\t<div className={'buttons-panel'} style={{display: notToday&&'none'}}>\r\n\t\t\t{_renderedButtons}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ButtonsPanel;\r\n","import React, {useState} from 'react';\r\nimport {Button, Form, Modal} from \"react-bootstrap\";\r\n\r\nexport const Description = ({handleClose, handleSubmit, type, variant}) => {\r\n\tconst [description, setDescription] = useState('');\r\n\tconst handleChange = (e) => {\r\n\t\tsetDescription(e.currentTarget.value);\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Form.Group controlId=\"formDescription\">\r\n\t\t\t\t\t\t<Form.Label>Описание</Form.Label>\r\n\t\t\t\t\t\t<Form.Control as=\"textarea\" rows={3} value={description} onChange={handleChange}/>\r\n\t\t\t\t\t\t<Form.Text className=\"text-muted\">\r\n\t\t\t\t\t\t\tВведите описание\r\n\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\r\n\t\t\t\t\tОтмена\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\t\tdescription: description,\r\n\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\tcolor: `badge-${variant}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thandleSubmit(item)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdisabled={!description}\r\n\t\t\t\t>\r\n\t\t\t\t\tДобавить\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</>\r\n\t)\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {Button, Form, Modal} from \"react-bootstrap\";\r\n\r\nexport const Attack = ({handleClose, handleSubmit, type, variant}) => {\r\n\tconst [count, setCount] = useState(1);\r\n\tconst [series, setSeries] = useState(false);\r\n\tconst [strength, setStrength] = useState(1);\r\n\tconst [rangeDescription, setRangeDescription] = useState('Слабый приступ');\r\n\tconst [textClass, setTextClass] = useState('secondary');\r\n\t\r\n\tuseEffect(() => {\r\n\t\tswitch (strength) {\r\n\t\t\tcase '1': {\r\n\t\t\t\tsetTextClass('secondary')\r\n\t\t\t\tsetRangeDescription('Слабый приступ');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcase '2': {\r\n\t\t\t\tsetTextClass('warning')\r\n\t\t\t\tsetRangeDescription('Средний приступ');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcase '3': {\r\n\t\t\t\tsetTextClass('danger')\r\n\t\t\t\tsetRangeDescription('Сильный приступ');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tsetTextClass('secondary')\r\n\t\t\t\tsetRangeDescription('Слабый приступ');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}, [strength]);\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<Form inline style={{justifyContent: 'space-between'}}>\r\n\t\t\t\t\t<Form.Group controlId={'formAttackSeries'} className=\"mb-2 mr-sm-2\">\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\tid={'checkbox-series'}\r\n\t\t\t\t\t\t\tlabel={'Серийные приступы?'}\r\n\t\t\t\t\t\t\tchecked={series}\r\n\t\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\t\tsetSeries(!series)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form.Group controlId={'formAttackCount'} className=\"mb-2 mr-sm-2\">\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype={'number'}\r\n\t\t\t\t\t\t\tplaceholder={'Кол-во приступов'}\r\n\t\t\t\t\t\t\tvalue={count}\r\n\t\t\t\t\t\t\tdisabled={!series}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetCount(e.currentTarget.value)\r\n\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form.Group controlId=\"formAttackStrength\" className={'mb-2'} style={{width: '100%'}}>\r\n\t\t\t\t\t\t<Form.Label>{`Сила приступа:`}</Form.Label>\r\n\t\t\t\t\t\t<Form.Control type=\"range\" min={1} max={3} value={strength} step={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setStrength(e.currentTarget.value)}/>\r\n\t\t\t\t\t\t<Form.Text className={`text-${textClass}`}>{rangeDescription}</Form.Text>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\r\n\t\t\t\t\tОтмена\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"primary\" onClick={() => {\r\n\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\tcount: count,\r\n\t\t\t\t\t\tseries: series,\r\n\t\t\t\t\t\tstrength: strength,\r\n\t\t\t\t\t\tcolor: `badge-${variant}`\r\n\t\t\t\t\t};\r\n\t\t\t\t\thandleSubmit(item)\r\n\t\t\t\t}}>\r\n\t\t\t\t\tДобавить\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</>\r\n\t)\r\n}","import React, {useState} from 'react';\r\nimport {Badge, Button, Form, Modal} from \"react-bootstrap\";\r\nimport {Link, useRouteMatch} from \"react-router-dom\";\r\n\r\nexport const Drugs = ({drugsList = [], handleClose, handleSubmit, type, variant}) => {\r\n\tconst [drugs, setDrugs] = useState(() => drugsList.map((drug) => {\r\n\t\tdrug.checked = false;\r\n\t\treturn drug;\r\n\t}));\r\n\t\r\n\tconst handleChecked = (e) => {\r\n\t\tconst {id} = e.currentTarget.dataset;\r\n\t\tconst _drugs = [...drugs];\r\n\t\tconst idx = _drugs.findIndex(drug => drug._id.toString() === id.toString());\r\n\t\tif (idx !== -1) {\r\n\t\t\t_drugs[idx].checked = !_drugs[idx].checked;\r\n\t\t\tsetDrugs(_drugs);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t{drugs.length === 0 && <h3>Нет ни одного лекарства, перейдите в <CustomLink to={'/settings'} label={'настройки'}/></h3>}\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t{drugs.map((drug,) => {\r\n\t\t\t\t\t\tconst label = <span>{drug.title} <Badge variant={'info'}>{drug.dosage}</Badge></span>\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Form.Group controlId={`formDrug-${drug.title}-${drug.dosage}`} key={`${drug.title}-${drug.dosage}`}>\r\n\t\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\t\t\tdata-id={drug?._id}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChecked}\r\n\t\t\t\t\t\t\t\t\tvalue={drug.checked}\r\n\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\r\n\t\t\t\t\tОтмена\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\tdrugs: drugs.filter(drug => drug.checked),\r\n\t\t\t\t\t\t\tcolor: `badge-${variant}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thandleSubmit(item);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdisabled={drugs.length === 0 || drugs.filter(drug => drug.checked).length === 0}\r\n\t\t\t\t>\r\n\t\t\t\t\tДобавить\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nfunction CustomLink({ label, to, activeOnlyWhenExact }) {\r\n\tlet match = useRouteMatch({\r\n\t\tpath: to,\r\n\t\texact: activeOnlyWhenExact\r\n\t});\r\n\t\r\n\treturn (\r\n\t\t<span className={match ? \"active\" : \"\"}>\r\n\t\t\t{match && \"> \"}\r\n\t\t\t<Link to={to}>{label}</Link>\r\n\t\t</span>\r\n\t);\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {Modal} from \"react-bootstrap\";\r\nimport {Description} from './Description.ModalPage';\r\nimport {Attack} from './Attack.ModalPage';\r\nimport {setItem} from \"../../store/data/actions\";\r\nimport {store} from \"../../index\";\r\nimport {hideModal} from \"../../store/buttonsPanel/actions\";\r\nimport {Drugs} from \"./Drugs.ModalPage\";\r\nimport {add} from \"../../_functions/db\";\r\nimport {format} from 'date-fns';\r\n\r\nconst ITEMS = 'items';\r\n\r\nconst ModalPageComponent = ({db, handleClose, showModal, modal = {}, drugsList}) => {\r\n\tconst {type, description, drugs, count, series, strength, variant} = modal;\r\n\tconst [show, setShow] = useState(false);\r\n\t\r\n\tconst handleSubmit = async (item) => {\r\n\t\titem.time = new Date().getTime();\r\n\t\titem.date = format(new Date(), 'yyyy-MM-dd');\r\n\t\titem._id = await add(db, item, ITEMS);\r\n\t\tstore.dispatch(setItem(item));\r\n\t\tstore.dispatch(hideModal());\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (show === showModal) return;\r\n\t\tsetShow(showModal);\r\n\t}, [showModal, show]);\r\n\t\r\n\treturn (\r\n\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title>{type}</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t{description && <Description handleClose={handleClose} handleSubmit={handleSubmit} type={type} variant={variant} />}\r\n\t\t\t{(count && series && strength) && <Attack handleClose={handleClose} handleSubmit={handleSubmit} type={type} variant={variant} />}\r\n\t\t\t{drugs && <Drugs drugsList={drugsList} handleClose={handleClose} handleSubmit={handleSubmit} type={type} variant={variant} />}\r\n\t\t</Modal>\r\n\t)\r\n}\r\n\r\nexport default ModalPageComponent;\r\n","export const sortData = (data) => data.sort((a, b) => {\r\n\tif (a.time > b.time) return -1;\r\n\treturn 1;\r\n});","export const SET_DRUG = 'SET_DRUG';\r\nexport const SET_DRUGS = 'SET_DRUGS';\r\n","import {SET_DRUG, SET_DRUGS} from './actionTypes';\r\n\r\nexport const setDrug = (drug) => {\r\n\treturn {\r\n\t\ttype: SET_DRUG,\r\n\t\tpayload: {\r\n\t\t\tdrug\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const setDrugs = (drugs) => {\r\n\treturn {\r\n\t\ttype: SET_DRUGS,\r\n\t\tpayload: {\r\n\t\t\tdrugs\r\n\t\t}\r\n\t}\r\n}","import React, {useState} from \"react\";\r\nimport {Form, FormGroup} from 'react-bootstrap';\r\nimport {format} from 'date-fns';\r\n\r\nconst formatDate = (date) => {\r\n\treturn format(new Date(date), 'yyyy-MM-dd');\r\n}\r\n\r\nconst DatePicker = ({setDate, currentDate}) =>{\r\n\tconst [_date, _setDate] = useState(() => {\r\n\t\treturn formatDate(currentDate);\r\n\t});\r\n\t\r\n\treturn (\r\n\t\t<FormGroup className={'date-picker'}>\r\n\t\t\t<Form>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\ttype={'date'}\r\n\t\t\t\t\tclassName={'date-picker-input'}\r\n\t\t\t\t\tvalue={_date}\r\n\t\t\t\t\tonKeyDown={(e) => e.preventDefault()}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tconst {value} = e.currentTarget;\r\n\t\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\t\t_setDate(formatDate(value));\r\n\t\t\t\t\t\t\tsetDate(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Form>\r\n\t\t</FormGroup>\r\n\t)\r\n}\r\n\r\nexport default DatePicker;\r\n","import {differenceInDays, startOfMonth, addDays, format} from 'date-fns';\r\nexport function filteredByType (items, filterType) {\r\n\treturn items.filter(({type}) => type.toLowerCase() === filterType.toLowerCase());\r\n}\r\n\r\n//TODO Сделать универсальным\r\nexport function reduceAttackByDate(items) {\r\n\treturn items.reduce((acc, item) => {\r\n\t\tconst idx = acc.findIndex(({date}) => date === item.date);\r\n\t\tif (idx === -1) {\r\n\t\t\treturn [...acc, {date: item.date, count: +item.count, strength: +item.strength, n: 1}];\r\n\t\t} else {\r\n\t\t\tconst {count, strength, n} = acc[idx];\r\n\t\t\tconst _count = count + +item.count;\r\n\t\t\tconst _strength = strength + +item.strength;\r\n\t\t\tconst _n = n + 1;\r\n\t\t\tacc[idx] = {...acc[idx], count: _count, strength: _strength, n: _n};\r\n\t\t\treturn acc;\r\n\t\t}\r\n\t}, []);\r\n}\r\n\r\n//TODO Сделать универсальным\r\nexport function prepareAttackColumns(items) {\r\n\t// console.log(items);\r\n\tlet attacksArray = [['x'], ['y0'], ['y1']];\r\n\tif (items.length !== 0) {\r\n\t\tconst diff = differenceInDays(new Date(items[0].date), startOfMonth(new Date(items[0].date)));\r\n\t\tfor (let i = 0; i < diff; i++) {\r\n\t\t\tattacksArray[0].push(format(addDays(startOfMonth(new Date(items[0].date)), i), 'yyyy-MM-dd'));\r\n\t\t\tattacksArray[1].push(0);\r\n\t\t\tattacksArray[2].push(0);\r\n\t\t}\r\n\t\titems.forEach(({date, count, strength, n}, idx, items) => {\r\n\t\t\tconst diff = idx !== 0 ? differenceInDays(new Date(date), new Date(items[idx - 1].date)) : 0;\r\n\t\t\tfor (let i = 1; i < diff; i++) {\r\n\t\t\t\tattacksArray[0].push(format(addDays(new Date(items[idx - 1].date), i), 'yyyy-MM-dd'));\r\n\t\t\t\tattacksArray[1].push(0);\r\n\t\t\t\tattacksArray[2].push(0);\r\n\t\t\t}\r\n\t\t\tattacksArray[0].push(date);\r\n\t\t\tattacksArray[1].push(+count);\r\n\t\t\tattacksArray[2].push(+(strength / n).toFixed(2));\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn attacksArray;\r\n}\r\n\r\nexport function data4Stats (opts) {\r\n\tconst {colors, columns, names, types} = opts\r\n\tconst _colors = _reduce(colors, {});\r\n\tconst _names = _reduce(names, {});\r\n\tconst _types = _reduce(types, {x: 'x'});\r\n\t\r\n\treturn {\r\n\t\tcolors: _colors,\r\n\t\tcolumns: columns,\r\n\t\tnames: _names,\r\n\t\ttypes: _types\r\n\t}\r\n}\r\n\r\nexport function getMax(items) {\r\n\tlet max = 0;\r\n\titems.forEach((item) => {\r\n\t\tif (item > max) {\r\n\t\t\tmax = item;\r\n\t\t}\r\n\t});\r\n\treturn max;\r\n}\r\n\r\nfunction _reduce(arr, accumulator) {\r\n\treturn arr.reduce((acc, str, idx) => {\r\n\t\treturn {\r\n\t\t\t...acc,\r\n\t\t\t[`y${idx}`]: str,\r\n\t\t}\r\n\t}, accumulator);\r\n}","import React, {Component} from \"react\";\r\nimport {Badge, Container} from \"react-bootstrap\";\r\nimport List from \"../timeline/List.component\";\r\nimport '../../App.css';\r\nimport ButtonsPanel from \"../buttonsPanel/ButtonsPanel.component\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {disableButton, enableButton, hideModal, showModal} from \"../../store/buttonsPanel/actions\";\r\nimport {connect} from \"react-redux\";\r\nimport {setDate, setDB, setItem, setItems} from \"../../store/data/actions\";\r\nimport ModalPageComponent from \"../modalPage/ModalPage.component\";\r\nimport {deleteItem, get, init_db} from \"../../_functions/db\";\r\nimport {format, subDays} from 'date-fns';\r\nimport {sortData} from \"../../_functions/handlersData\";\r\nimport {setDrugs} from \"../../store/settings/actions\";\r\nimport DatePicker from \"../datePicker/DatePicker.component\";\r\nimport {filteredByType} from \"../../_functions/stats\";\r\n\r\nconst ITEMS = 'items';\r\nconst SETTINGS = 'settings';\r\nconst READWRITE = 'readwrite';\r\n\r\nclass HomeComponent extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t_currentDate: new Intl.DateTimeFormat('ru-RU', {\r\n\t\t\t\tday: 'numeric',\r\n\t\t\t\tmonth: 'long',\r\n\t\t\t\tyear: 'numeric'\r\n\t\t\t}).format(new Date(this.props.currentDate)),\r\n\t\t\ttoday: format(new Date(), 'yyyy-MM-dd'),\r\n\t\t\tsleepId: -1,\r\n\t\t}\r\n\t\tthis.handlerShowModal = this.handlerShowModal.bind(this);\r\n\t\tthis.handleModalFilter = this.handleModalFilter.bind(this);\r\n\t\tthis.initDB = this.initDB.bind(this);\r\n\t\tthis.getItems = this.getItems.bind(this);\r\n\t\tthis.addItem = this.addItem.bind(this);\r\n\t\tthis.setSleepId = this.setSleepId.bind(this);\r\n\t\tthis.setDateFromDatepicker = this.setDateFromDatepicker.bind(this);\r\n\t\tthis.deleteItem = this.deleteItem.bind(this);\r\n\t}\r\n\t\r\n\tinitDB = async () => {\r\n\t\tawait init_db.call(this);\r\n\t\t\r\n\t\tif (this.props.db) {\r\n\t\t\tawait this.getItems();\r\n\t\t} else {\r\n\t\t\tthis.props.setItems([]);\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetItems = async () => {\r\n\t\tconst {db} = this.props;\r\n\t\tconst idxVal = format(new Date(this.props.currentDate), 'yyyy-MM-dd');\r\n\t\tlet items = await get(db, ITEMS, 'date', idxVal);\r\n\t\tlet subDaysItem = sortData(await get(db, ITEMS, 'date', format(subDays(new Date(this.props.currentDate), 1), 'yyyy-MM-dd')));\r\n\t\t\r\n\t\tif (subDaysItem[0]?.type.toLowerCase() === 'сон') {\r\n\t\t\titems.push(subDaysItem[0]);\r\n\t\t}\r\n\t\t\r\n\t\tconst idx = items.findIndex((item) => {\r\n\t\t\tif (item.subType) {\r\n\t\t\t\treturn item?.subType.toLowerCase() === 'начало'\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\tif (idx !== -1) {\r\n\t\t\tthis.setSleepId(items[idx]._id);\r\n\t\t}\r\n\t\t\r\n\t\tif (items.length) {\r\n\t\t\tthis.props.setItems(items);\r\n\t\t} else {\r\n\t\t\tthis.props.setItems([]);\r\n\t\t}\r\n\t\t\r\n\t\tlet drugs = await get(db, SETTINGS, 'type', 'drug');\r\n\t\tif (drugs.length) {\r\n\t\t\tthis.props.setDrugs(drugs);\r\n\t\t}\r\n\t}\r\n\t\r\n\taddItem = async (item) => {\r\n\t\tconst {db} = this.state;\r\n\t\tlet tx = db.transaction(ITEMS, READWRITE);\r\n\t\tlet itemsStore = tx.objectStore(ITEMS);\r\n\t\ttry {\r\n\t\t\tawait itemsStore.add(item);\r\n\t\t} catch (e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteItem = async (key) => {\r\n\t\tawait deleteItem(this.props.db, ITEMS, +key);\r\n\t\tawait this.getItems();\r\n\t}\r\n\t\r\n\tsetDateFromDatepicker = (date) => {\r\n\t\tthis.props.setDate(date);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.initDB();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (prevProps.currentDate !== this.props.currentDate) {\r\n\t\t\tthis.setState({\r\n\t\t\t\t_currentDate: new Intl.DateTimeFormat('ru-RU', {\r\n\t\t\t\t\tday: 'numeric',\r\n\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\tyear: 'numeric'\r\n\t\t\t\t}).format(new Date(this.props.currentDate))\r\n\t\t\t});\r\n\t\t\tthis.getItems();\r\n\t\t}\r\n\t}\r\n\t\r\n\thandlerShowModal = () => {\r\n\t\tthis.props.showModal();\r\n\t}\r\n\t\r\n\tsetSleepId = (id) => {\r\n\t\tthis.setState({sleepId: id});\r\n\t}\r\n\t\r\n\thandleModalFilter = ((modalType, modals = []) => {\r\n\t\tconst idx = modals.findIndex(({type}) => modalType.toLowerCase() === type.toLowerCase());\r\n\t\treturn modals[idx];\r\n\t});\r\n\t\r\n\trender() {\r\n\t\tconst {modalType, modals, buttons, modalShow, hideModal, items, drugs} = this.props;\r\n\t\tconst attackCount = filteredByType(items, 'приступы').reduce((acc, {count}) => {\r\n\t\t\treturn +acc + (+count)\r\n\t\t}, 0);\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"row d-flex justify-content-center mt-3 mb-auto\">\r\n\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t<h5>{this.state._currentDate}<Badge variant={'warning'}>{attackCount}</Badge></h5>\r\n\t\t\t\t\t\t\t<DatePicker setDate={this.setDateFromDatepicker} currentDate={this.props.currentDate}/>\r\n\t\t\t\t\t\t\t<ButtonsPanel sleepId={this.state.sleepId} db={this.props.db} buttons={buttons}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSleepId={this.setSleepId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnotToday={format(this.props.currentDate, 'yyyy-MM-dd') !== this.state.today}/>\r\n\t\t\t\t\t\t\t<List db={this.props.db} data={items} sleepId={this.state.sleepId} setSleepId={this.setSleepId} deleteItem={this.deleteItem}/>\r\n\t\t\t\t\t\t\t<ModalPageComponent db={this.props.db} showModal={modalShow} handleClose={hideModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodal={this.handleModalFilter(modalType, modals)} drugsList={drugs}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Container>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tbuttons: state.buttons.buttons,\r\n\t\tmodalShow: state.buttons.modalShow,\r\n\t\tmodalType: state.buttons.modalType,\r\n\t\tmodals: state.buttons.modals,\r\n\t\titems: state.data.items,\r\n\t\tcurrentDate: state.data.currentDate,\r\n\t\tdrugs: state.settings.drugs,\r\n\t\tdb: state.data.db\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tdispatch,\r\n\t\t...bindActionCreators({\r\n\t\t\tdisableButton,\r\n\t\t\tenableButton,\r\n\t\t\tsetItem,\r\n\t\t\thideModal,\r\n\t\t\tshowModal,\r\n\t\t\tsetItems,\r\n\t\t\tsetDrugs,\r\n\t\t\tsetDate,\r\n\t\t\tsetDB\r\n\t\t}, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeComponent);\r\n","import React, {useState} from 'react';\r\nimport {Button, Form} from \"react-bootstrap\";\r\n\r\nconst DrugForm = ({setDrug}) => {\r\n\tconst [title, setTitle] = useState('');\r\n\tconst [dosage, setDosage] = useState('');\r\n\t\r\n\tconst clearForm = () => {\r\n\t\tsetTitle('');\r\n\t\tsetDosage('');\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Form inline>\r\n\t\t\t<Form.Control\r\n\t\t\t\tclassName=\"mb-2 mr-sm-2\"\r\n\t\t\t\tid={'title'}\r\n\t\t\t\tplaceholder={'Название'}\r\n\t\t\t\tvalue={title}\r\n\t\t\t\tonChange={(e) => {setTitle(e.currentTarget.value)}}\r\n\t\t\t>\r\n\t\t\t</Form.Control>\r\n\t\t\t<Form.Control\r\n\t\t\t\tclassName=\"mb-2 mr-sm-2\"\r\n\t\t\t\ttype={'number'}\r\n\t\t\t\tid={'dosage'}\r\n\t\t\t\tplaceholder={'Дозировка'}\r\n\t\t\t\tvalue={dosage}\r\n\t\t\t\tonChange={(e) => {setDosage(e.currentTarget.value)}}\r\n\t\t\t>\r\n\t\t\t</Form.Control>\r\n\t\t\t<Button\r\n\t\t\t\ttype={'submit'}\r\n\t\t\t\tclassName={'mb-2'}\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tsetDrug({type: 'drug', title, dosage, time: new Date().getTime(), archive: false});\r\n\t\t\t\t\tclearForm();\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={title === '' || dosage <= 0}\r\n\t\t\t>\r\n\t\t\t\tДобавить\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nexport default DrugForm;\r\n","import React from 'react';\r\nimport {Badge, Button, Card, ListGroup} from \"react-bootstrap\";\r\n\r\nimport './styles.css';\r\n\r\nconst DrugList = ({data, deleteItem}) => {\r\n\tconst _renderedList = data.map(drug => {\r\n\t\treturn (\r\n\t\t\t<ListGroup.Item key={drug._id} className=\"drug-list justify-content-between\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{drug.title} <Badge variant={'info'}>{drug.dosage}</Badge>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant={'outline-danger'}\r\n\t\t\t\t\tdata-id={drug._id}\r\n\t\t\t\t\tonClick={(e)=>{\r\n\t\t\t\t\t\tdeleteItem(e.currentTarget.dataset.id);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\r\n\t\t\t\t</Button>\r\n\t\t\t</ListGroup.Item>\r\n\t\t)\r\n\t})\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<Card.Header><h6>Список лекарств</h6></Card.Header>\r\n\t\t\t<ListGroup>\r\n\t\t\t\t{_renderedList}\r\n\t\t\t</ListGroup>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport default DrugList;\r\n","import React, {Component} from 'react';\r\nimport {Container} from \"react-bootstrap\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {deleteItem, get, initializeDB} from \"../../_functions/db\";\r\nimport {setDrug, setDrugs} from \"../../store/settings/actions\";\r\nimport DrugForm from \"./DrugForm.component\";\r\nimport DrugsList from \"./DrugsList\";\r\nimport {sortData} from \"../../_functions/handlersData\";\r\n\r\nconst SETTINGS = 'settings';\r\nconst READWRITE = 'readwrite';\r\n\r\nclass Settings extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdb: null,\r\n\t\t\tdrug: {\r\n\t\t\t\ttype: 'drug',\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tdosage: 0\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.initDB = this.initDB.bind(this);\r\n\t\tthis.getItems = this.getItems.bind(this);\r\n\t\tthis.setDrug = this.setDrug.bind(this);\r\n\t\tthis.deleteDrug = this.deleteDrug.bind(this);\r\n\t}\r\n\t\r\n\tinitDB = async () => {\r\n\t\tconst db = await initializeDB();\r\n\t\t\r\n\t\tthis.setState({db: db});\r\n\t\t\r\n\t\tif (this.props.drugs.length <= 0) {\r\n\t\t\tawait this.getItems();\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetItems = async () => {\r\n\t\tconst {db} = this.state;\r\n\t\tlet drugs = await get(db, SETTINGS, 'type', 'drug');\r\n\t\tif (drugs.length === 0) {\r\n\t\t\tthis.props.setDrugs([]);\r\n\t\t}\r\n\t\tif (drugs.length) {\r\n\t\t\tthis.props.setDrugs(drugs);\r\n\t\t}\r\n\t}\r\n\t\r\n\taddItem = async (setting) => {\r\n\t\tconst {db} = this.state;\r\n\t\tlet tx = db.transaction(SETTINGS, READWRITE);\r\n\t\tlet settingsStore = tx.objectStore(SETTINGS);\r\n\t\ttry {\r\n\t\t\tawait settingsStore.add(setting);\r\n\t\t} catch (e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetDrug = async (drug) => {\r\n\t\tawait this.addItem(drug);\r\n\t\tawait this.getItems();\r\n\t}\r\n\t\r\n\tdeleteDrug = async (key) => {\r\n\t\tawait deleteItem(this.state.db, SETTINGS, +key);\r\n\t\tawait this.getItems();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.initDB();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<div className=\"row d-flex justify-content-center mt-3 mb-auto\">\r\n\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t<h5>Лекарства</h5>\r\n\t\t\t\t\t\t<div className={'dropdown-divider'} />\r\n\t\t\t\t\t\t{/*<h6>Лекарства</h6>*/}\r\n\t\t\t\t\t\t<DrugForm setDrug={this.setDrug} />\r\n\t\t\t\t\t\t<DrugsList data={sortData(this.props.drugs)} deleteItem={this.deleteDrug}/>\r\n\t\t\t\t\t\t<div className={'dropdown-divider'} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdrugs: state.settings.drugs,\r\n\t\t\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps (dispatch) {\r\n\treturn {\r\n\t\tdispatch,\r\n\t\t...bindActionCreators({setDrugs, setDrug}, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\r\n","const canvasSettings = {\r\n\tmargin: 20,\r\n\tpadding: 40,\r\n\tdpi: 2,\r\n\tlineWidth: 4,\r\n\thelperLineCount: 5,\r\n}\r\n\r\ncanvasSettings.width = window.screen.width > window.screen.height ? (window.screen.width/2) - (canvasSettings.margin * 2) : window.screen.width - canvasSettings.margin * 2;\r\ncanvasSettings.height = window.screen.height/2;\r\ncanvasSettings.dpiWidth = canvasSettings.width * canvasSettings.dpi;\r\ncanvasSettings.dpiHeight = canvasSettings.height * canvasSettings.dpi;\r\ncanvasSettings.viewHeight = canvasSettings.dpiHeight - canvasSettings.padding * 2;\r\n\r\nexport default canvasSettings;\r\n","import React, {Component, createRef} from 'react';\r\nimport canvasSettings from \"./canvas.settings\";\r\n\r\nimport './styles.css';\r\nimport {Col} from \"react-bootstrap\";\r\n\r\nclass CanvasComponent extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\twidth: canvasSettings.width,\r\n\t\t\theight: canvasSettings.height,\r\n\t\t\tx: null,\r\n\t\t\tdetails: null,\r\n\t\t\ttimeOut: null\r\n\t\t}\r\n\t\t\r\n\t\tthis.canvas = createRef()\r\n\t\tthis.handleTouch = this.handleTouch.bind(this);\r\n\t\tthis.handleTouchLeave = this.handleTouchLeave.bind(this);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst {current: canvas} = this.canvas;\r\n\t\tcanvas.style.width = canvasSettings.width + 'px';\r\n\t\tcanvas.style.height = canvasSettings.height + 'px';\r\n\t\tcanvas.width = canvasSettings.dpiWidth;\r\n\t\tcanvas.height = canvasSettings.dpiHeight;\r\n\t\tcanvas.style.marginLeft = canvasSettings.margin + 'px';\r\n\t\tcanvas.style.marginRight = canvasSettings.margin + 'px';\r\n\t\tthis.updateCanvas();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tthis.updateCanvas();\r\n\t}\r\n\t\r\n\tupdateCanvas() {\r\n\t\tif (this.props.data) {\r\n\t\t\tconst {columns, colors, types} = this.props.data;\r\n\t\t\tconst {dpiWidth, dpiHeight, viewHeight} = canvasSettings;\r\n\t\t\tconst viewWidth = dpiWidth;\r\n\t\t\tconst [yMin, yMax] = this.computeBoundaries(columns, types);\r\n\t\t\tconst ctx = this.canvas.current.getContext('2d');\r\n\t\t\tctx.font = \"30px monospace\";\r\n\t\t\tctx.fillStyle = '#96a2aa';\r\n\t\t\tctx.clearRect(0, 0, dpiWidth, dpiHeight);\r\n\t\t\t\r\n\t\t\tconst yRatio = Math.floor(viewHeight / (yMax - yMin));\r\n\t\t\tconst xRatio = viewWidth / (columns[0].length - 1);\r\n\t\t\t\r\n\t\t\tconst yLineData = columns.filter((col) => types[col[0]] === 'line');\r\n\t\t\tconst yBlockData = columns.filter((col) => types[col[0]] === 'block');\r\n\t\t\tconst xData = columns.filter((col) => types[col[0]] !== 'line' && types[col[0]] !== 'block')[0];\r\n\t\t\t\r\n\t\t\tif (!yMin && !yMax) {\r\n\t\t\t\tctx.fillText('Нет данных для отображения', 20, 50);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.drawHelperYLines(ctx, yMin, yMax);\r\n\t\t\tthis.drawHelperXText(ctx, xData, xRatio);\r\n\t\t\t\r\n\t\t\tyLineData.map(this.toLineCoords(xRatio, yRatio)).forEach((coords, idx) => {\r\n\t\t\t\t// this.drawHelperXLine(ctx, this.state.x);\r\n\t\t\t\tconst color = colors[yLineData[idx][0]];\r\n\t\t\t\tthis.line(ctx, coords, {color});\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tyBlockData.map(this.toBlockCoords(xRatio, yRatio)).forEach((coords, idx) => {\r\n\t\t\t\tconst color = colors[yBlockData[idx][0]];\r\n\t\t\t\tthis.block(ctx, coords, {color});\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (this.state.x) {\r\n\t\t\t\tthis.drawHelperXLine(ctx, this.state.x);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoLineCoords(xRatio, yRatio) {\r\n\t\treturn (col) =>\r\n\t\t\tcol\r\n\t\t\t\t.map((y, idx) => [\r\n\t\t\t\t\tMath.floor((idx - 1) * xRatio + xRatio / 3),\r\n\t\t\t\t\tMath.floor(canvasSettings.dpiHeight - canvasSettings.padding - y * yRatio)\r\n\t\t\t\t])\r\n\t\t\t\t.filter((_, idx) => idx !== 0);\r\n\t}\r\n\t\r\n\ttoBlockCoords(xRatio, yRatio) {\r\n\t\treturn (col) =>\r\n\t\t\tcol\r\n\t\t\t\t.map((y, idx) => [\r\n\t\t\t\t\tMath.floor((idx - 1) * xRatio),\r\n\t\t\t\t\tMath.floor(canvasSettings.dpiHeight - canvasSettings.padding - y * yRatio),\r\n\t\t\t\t\txRatio / 1.5,\r\n\t\t\t\t\ty * yRatio\r\n\t\t\t\t])\r\n\t\t\t\t.filter((_, idx) => idx !== 0);\r\n\t}\r\n\t\r\n\tcomputeBoundaries(columns, types) {\r\n\t\tlet min = null;\r\n\t\tlet max = null;\r\n\t\t\r\n\t\tcolumns.forEach(col => {\r\n\t\t\tif (types[col[0] !== 'line' || types[col[0]] !== 'block']) return;\r\n\t\t\t\r\n\t\t\tif (typeof min !== 'number') min = col[1];\r\n\t\t\tif (typeof max !== 'number') max = col[1];\r\n\t\t\t\r\n\t\t\tif (min > col[1]) min = col[1];\r\n\t\t\tif (max < col[1]) max = col[1];\r\n\t\t\t\r\n\t\t\tfor (let i = 2; i < col.length; i++) {\r\n\t\t\t\tif (min > col[i]) min = col[i];\r\n\t\t\t\tif (max < col[i]) max = col[i];\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn [min, max];\r\n\t}\r\n\t\r\n\tdrawHelperXText(ctx, data, xRatio) {\r\n\t\tconst colsCount = 6;\r\n\t\tconst step = Math.round(data.length / colsCount);\r\n\t\tctx.beginPath();\r\n\t\tfor (let i = 1; i < data.length; i += step) {\r\n\t\t\tconst text = new Date(data[i]).getDate();\r\n\t\t\tconst x = (i - 1) * xRatio;\r\n\t\t\tctx.fillText(text.toString(), x, canvasSettings.dpiHeight);\r\n\t\t}\r\n\t\tctx.closePath();\r\n\t}\r\n\t\r\n\tdrawHelperYLines(ctx, yMin, yMax) {\r\n\t\tconst yLineStep = canvasSettings.viewHeight / canvasSettings.helperLineCount; //Шаг между вспомогательными линиями\r\n\t\tconst textStep = (yMax - yMin) / canvasSettings.helperLineCount; //Шаг между вспомогательным текстом\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.strokeStyle = '#bbb';\r\n\t\tctx.lineWidth = 1;\r\n\t\tctx.font = \"20px monospace\";\r\n\t\tctx.fillStyle = '#96a2aa';\r\n\t\tfor (let i = 1; i <= canvasSettings.helperLineCount; i++) {\r\n\t\t\tconst y = yLineStep * i;\r\n\t\t\tconst text = Math.round(yMax - textStep * i);\r\n\t\t\tctx.moveTo(0, y + canvasSettings.padding);\r\n\t\t\tctx.fillText(text.toString(), 0, y + canvasSettings.padding);\r\n\t\t\tctx.setLineDash([15, 5]);\r\n\t\t\tctx.lineTo(canvasSettings.dpiWidth, y + canvasSettings.padding);\r\n\t\t}\r\n\t\t\r\n\t\tctx.stroke();\r\n\t\tctx.closePath();\r\n\t\tctx.restore();\r\n\t}\r\n\t\r\n\tdrawHelperXLine(ctx, x) {\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.strokeStyle = '#bbb';\r\n\t\tctx.lineWidth = 1;\r\n\t\t\r\n\t\tctx.moveTo(x, 0);\r\n\t\tctx.lineTo(x, canvasSettings.dpiHeight);\r\n\t\t\r\n\t\tctx.stroke();\r\n\t\tctx.closePath();\r\n\t\tctx.restore();\r\n\t}\r\n\t\r\n\tline(ctx, coords, {color}) {\r\n\t\tctx.beginPath();\r\n\t\tctx.lineWidth = 4;\r\n\t\tctx.strokeStyle = color;\r\n\t\tfor (const [x, y] of coords) {\r\n\t\t\tctx.lineTo(x, y);\r\n\t\t}\r\n\t\tctx.stroke();\r\n\t\tctx.closePath();\r\n\t}\r\n\t\r\n\tblock(ctx, coords, {color}) {\r\n\t\tctx.beginPath();\r\n\t\tctx.lineWidth = 4;\r\n\t\tctx.fillStyle = color;\r\n\t\tfor (const [x, y, w, h] of coords) {\r\n\t\t\tctx.rect(x, y, w, h);\r\n\t\t}\r\n\t\tctx.stroke();\r\n\t\tctx.fill();\r\n\t\tctx.closePath();\r\n\t}\r\n\t\r\n\thandleTouch(e) {\r\n\t\tif (this.state.timeOut) {\r\n\t\t\tthis.setState({timeOut: clearTimeout(this.state.timeOut)})\r\n\t\t}\r\n\t\tconst clientX = e.touches ? e.touches[0].clientX : e.clientX;\r\n\t\tconst x = (clientX - canvasSettings.margin) * canvasSettings.dpiWidth / canvasSettings.width;\r\n\t\tconst viewWidth = canvasSettings.dpiWidth;\r\n\t\tconst xRatio = viewWidth / (this.props.data.columns[0].length - 1);\r\n\t\tconst index = Math.round(this.props.data.columns[0].length - ((canvasSettings.dpiWidth - x + (xRatio / 2)) / xRatio));\r\n\t\tthis.setState({\r\n\t\t\tx: x,\r\n\t\t\tdetails:\r\n\t\t\t\t(index !== 0 && index <= this.props.data.columns[0].length - 1) ?\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: this.props.data.columns[0][index],\r\n\t\t\t\t\t\tattack: this.props.data.columns[1][index],\r\n\t\t\t\t\t\tstrength: this.props.data.columns[2][index],\r\n\t\t\t\t\t} :\r\n\t\t\t\t\tnull\r\n\t\t});\r\n\t}\r\n\t\r\n\thandleTouchLeave() {\r\n\t\tif (!this.state.timeOut){\r\n\t\t\tthis.setState({\r\n\t\t\t\ttimeOut: setTimeout(() => {\r\n\t\t\t\t\tthis.setState({x: null, details: null});\r\n\t\t\t\t}, 2000)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {details} = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<canvas\r\n\t\t\t\t\tref={this.canvas}\r\n\t\t\t\t\twidth={this.state.width}\r\n\t\t\t\t\theight={this.state.height}\r\n\t\t\t\t\tonTouchStart={this.handleTouch}\r\n\t\t\t\t\tonTouchMove={this.handleTouch}\r\n\t\t\t\t\tonTouchCancel={this.handleTouchLeave}\r\n\t\t\t\t\tonTouchEnd={this.handleTouchLeave}\r\n\t\t\t\t\tonMouseEnter={this.handleTouch}\r\n\t\t\t\t\tonMouseMove={this.handleTouch}\r\n\t\t\t\t\tonMouseLeave={this.handleTouchLeave}\r\n\t\t\t\t/>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdetails ?\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<p>Дата: {details.date}</p>\r\n\t\t\t\t\t\t\t\t<p>Кол-во приступов: {details.attack}</p>\r\n\t\t\t\t\t\t\t\t<p>Средняя сила: {details.strength} из 3</p>\r\n\t\t\t\t\t\t\t</> :\r\n\t\t\t\t\t\t\t<p>Выбирите значение на графике</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Col>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default CanvasComponent;\r\n","import React, {Component} from 'react';\r\nimport {get, init_db} from \"../../_functions/db\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {setDB} from \"../../store/data/actions\";\r\nimport {Col, Form, FormGroup} from \"react-bootstrap\";\r\nimport {endOfMonth, format, startOfMonth} from 'date-fns';\r\nimport Canvas from '../canvas/Canvas.component';\r\nimport {data4Stats, filteredByType, prepareAttackColumns, reduceAttackByDate} from \"../../_functions/stats\";\r\n\r\n\r\nclass StatsComponent extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tmonth: format(new Date(), 'yyyy-MM'),\r\n\t\t\tstartOfRange: format(startOfMonth(new Date()), 'yyyy-MM-dd'),\r\n\t\t\tendOfRange: format(endOfMonth(new Date()), 'yyyy-MM-dd'),\r\n\t\t\tdata4Stats: null\r\n\t\t}\r\n\t\t\r\n\t\tthis.initDB = this.initDB.bind(this);\r\n\t\tthis.prepareData = this.prepareData.bind(this);\r\n\t}\r\n\t\r\n\tinitDB = async () => {\r\n\t\tconst db = await init_db.call(this);\r\n\t\tif (db) {\r\n\t\t\tawait this.prepareData();\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.initDB();\r\n\t}\r\n\t\r\n\tprepareData = async () => {\r\n\t\tconst {db} = this.props;\r\n\t\tconst items = await get(db, 'items', 'date', IDBKeyRange.bound(this.state.startOfRange, this.state.endOfRange));\r\n\t\tconst attackItems = filteredByType(items, 'приступы');\r\n\t\tconst attacksGroupedByDate = reduceAttackByDate(attackItems);\r\n\t\tconst attackColumns = prepareAttackColumns(attacksGroupedByDate);\r\n\t\t\r\n\t\tconst opts = {\r\n\t\t\tcolors: ['#9a17b8', '#F34C40'],\r\n\t\t\tcolumns: attackColumns,\r\n\t\t\tnames: ['Count', 'Strength'],\r\n\t\t\ttypes: ['block', 'block']\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tdata4Stats: data4Stats(opts)\r\n\t\t})\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (prevState.startOfRange !== this.state.startOfRange && prevState.endOfRange !== this.state.endOfRange) {\r\n\t\t\tthis.prepareData();\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<FormGroup className={'date-picker'}>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype={'month'}\r\n\t\t\t\t\t\t\t\tclassName={'month-picker-input'}\r\n\t\t\t\t\t\t\t\tonKeyDown={(e) => e.preventDefault()}\r\n\t\t\t\t\t\t\t\tvalue={this.state.month}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst {value} = e.currentTarget;\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tmonth: value,\r\n\t\t\t\t\t\t\t\t\t\tstartOfRange: format(startOfMonth(new Date(value)), 'yyyy-MM-dd'),\r\n\t\t\t\t\t\t\t\t\t\tendOfRange: format(endOfMonth(new Date(value)), 'yyyy-MM-dd')\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Canvas data={this.state.data4Stats}/>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdb: state.data.db\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tdispatch,\r\n\t\t...bindActionCreators({setDB}, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StatsComponent);\r\n","import React from 'react';\r\nimport {BrowserRouter as Router, Redirect, Route, Switch} from \"react-router-dom\";\r\nimport AppNavbar from \"./components/navbar/AppNavbar.component\";\r\nimport Home from \"./components/home/Home.component\";\r\nimport Settings from \"./components/settings/Settings.component\";\r\nimport Stats from \"./components/stats/Stats.component\";\r\n\r\nexport default function App() {\r\n\treturn (\r\n\t\t<Router basename={'/EpilepticDiary'}>\r\n\t\t\t<AppNavbar/>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path={'/settings'}>\r\n\t\t\t\t\t<Settings />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={'/stats'}>\r\n\t\t\t\t\t<Stats />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={'/'}>\r\n\t\t\t\t\t<Home/>\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Redirect to={'/'} />\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t)\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {store} from \"../index\";\r\nimport {showModal, hideModal} from \"../store/buttonsPanel/actions\";\r\n\r\nexport function handleShowModal(e) {\r\n\treturn store.dispatch(showModal(e.currentTarget.dataset.type));\r\n}\r\n\r\nexport function handleCloseModal() {\r\n\treturn store.dispatch(hideModal());\r\n}","import {DISABLE_BUTTON, ENABLE_BUTTON, HIDE_MODAL, SHOW_MODAL} from \"./actionTypes\";\r\nimport {handleShowModal} from \"../../_functions/handleModal\";\r\n\r\nconst initialState = {\r\n\tbuttons: [\r\n\t\t{\r\n\t\t\ttype: 'Сон',\r\n\t\t\tsubType: 'начало',\r\n\t\t\ticon: 'fa-bed',\r\n\t\t\tdisabled: false,\r\n\t\t\tvariant: 'primary'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'Еда',\r\n\t\t\ticon: 'fa-cutlery',\r\n\t\t\tdisabled: false,\r\n\t\t\tvariant: 'success',\r\n\t\t\tonClick: handleShowModal\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'Лекарства',\r\n\t\t\ticon: 'fa-medkit',\r\n\t\t\tdisabled: false,\r\n\t\t\tvariant: 'danger',\r\n\t\t\tonClick: handleShowModal\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'Приступы',\r\n\t\t\ticon: 'fa-heartbeat',\r\n\t\t\tdisabled: false,\r\n\t\t\tvariant: 'epi',\r\n\t\t\tonClick: handleShowModal\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'Мероприятия',\r\n\t\t\ticon: 'fa-check',\r\n\t\t\tdisabled: false,\r\n\t\t\tvariant: 'info',\r\n\t\t\tonClick: handleShowModal\r\n\t\t}\r\n\t],\r\n\tmodalShow: false,\r\n\tmodalType: '',\r\n\tmodals: [\r\n\t\t{\r\n\t\t\ttype: 'еда',\r\n\t\t\tdescription: true,\r\n\t\t\tdrugs: false,\r\n\t\t\tcount: false,\r\n\t\t\tseries: false,\r\n\t\t\tvariant: 'success',\r\n\t\t\tstrength: false,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'Лекарства',\r\n\t\t\tdrugs: true,\r\n\t\t\tdescription: false,\r\n\t\t\tcount: false,\r\n\t\t\tseries: false,\r\n\t\t\tstrength: false,\r\n\t\t\tvariant: 'danger',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'Приступы',\r\n\t\t\tcount: true,\r\n\t\t\tseries: true,\r\n\t\t\tstrength: true,\r\n\t\t\tdescription: false,\r\n\t\t\tdrugs: false,\r\n\t\t\tvariant: 'epi',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'Мероприятия',\r\n\t\t\tcount: false,\r\n\t\t\tseries: false,\r\n\t\t\tstrength: false,\r\n\t\t\tdescription: true,\r\n\t\t\tvariant: 'info',\r\n\t\t\tdrugs: false\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport const buttonsPanelReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase DISABLE_BUTTON: {\r\n\t\t\tconst buttons = [...state.buttons];\r\n\t\t\tconst idx = buttons.findIndex((button) => button.type === action.payload.type);\r\n\t\t\tbuttons[idx].disabled = true;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbuttons: [...buttons]\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase ENABLE_BUTTON: {\r\n\t\t\tconst buttons = [...state.buttons];\r\n\t\t\tconst idx = buttons.findIndex((button) => button.type === action.payload.type);\r\n\t\t\tbuttons[idx].disabled = false;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbuttons: [...buttons]\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SHOW_MODAL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmodalShow: true,\r\n\t\t\t\tmodalType: action.payload.modalType\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase HIDE_MODAL: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmodalShow: false,\r\n\t\t\t\tmodalType: ''\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}","import {RESET_ITEM, SET_DATE, SET_DB, SET_ITEM, SET_ITEMS} from './actionTypes';\r\nimport {sortData} from \"../../_functions/handlersData\";\r\n\r\nconst initialState = {\r\n\tcurrentDate: new Date().getTime(),\r\n\tdb: null,\r\n\titems: []\r\n}\r\n\r\nexport const dataReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_DB: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdb: action.payload.db\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_ITEM: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems: sortData([...state.items, action.payload.item])\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_ITEMS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems: sortData(action.payload.items)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase RESET_ITEM: {\r\n\t\t\tconst {item} = action.payload;\r\n\t\t\tconst idx = state.items.findIndex(({time}) => time === item.time);\r\n\t\t\tif (idx === -1) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst newItems = [...state.items];\r\n\t\t\tnewItems.splice(idx, 1, item);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems: sortData([...newItems])\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_DATE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentDate: new Date(action.payload.date).getTime()\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// {\r\n// \ttype: 'сон',\r\n// \t\tsubType: 'начало',\r\n// \ttime: new Date().getTime(),\r\n// \tcolor: 'badge-primary'\r\n// },\r\n// {\r\n// \ttype: 'сон',\r\n// \t\tsubType: 'конец',\r\n// \tquality: 3,\r\n// \ttime: new Date().getTime(),\r\n// \tcolor: 'badge-primary'\r\n// },\r\n// {\r\n// \ttype: 'еда',\r\n// \t\tdescription: 'Брокколи с яйцом',\r\n// \ttime: new Date().getTime(),\r\n// \tcolor: 'badge-success'\r\n// },\r\n// {\r\n// \ttype: 'Лекарства',\r\n// \t\tdrugs: [\r\n// \t{\r\n// \t\ttitle: 'Депакин',\r\n// \t\tdosage: '150',\r\n// \t},\r\n// \t{\r\n// \t\ttitle: 'Магний',\r\n// \t\tdosage: '200',\r\n// \t}\r\n// ],\r\n// \ttime: new Date().getTime(),\r\n// \tcolor: 'badge-warning'\r\n// },\r\n// {\r\n// \ttype: 'Приступы',\r\n// \t\tcount: 10,\r\n// \tseries: true,\r\n// \tstrength: 1,\r\n// \ttime: new Date().getTime(),\r\n// \tcolor: 'badge-danger'\r\n// },","import {SET_DRUG, SET_DRUGS} from \"./actionTypes\";\r\n\r\nconst initialState = {\r\n\tdrugs: []\r\n}\r\n\r\nexport const settingsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_DRUGS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdrugs: action.payload.drugs\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_DRUG: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdrugs: [...state.drugs, action.payload.drug]\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}","import {combineReducers} from \"redux\";\r\nimport {buttonsPanelReducer} from \"./buttonsPanel/reducers\";\r\nimport {dataReducer} from './data/reducers';\r\nimport {settingsReducer} from \"./settings/reducers\";\r\n\r\nexport default combineReducers({\r\n\tbuttons: buttonsPanelReducer,\r\n\tdata: dataReducer,\r\n\tsettings: settingsReducer,\r\n});\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport rootReducer from './store/reducers';\nimport {applyMiddleware, createStore} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {Provider} from 'react-redux';\nimport {composeWithDevTools} from 'redux-devtools-extension';\n\nexport const store = createStore(rootReducer, composeWithDevTools(\n  applyMiddleware(thunk),\n));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}